# arcade.wiki â€” Contributing Guide

Thanks for helping improve arcade.wiki! This guide explains how to add and maintain controller pages using MDX.

## Project Structure

- **Content root**: `src/content/`
- **Per-controller path**: `src/content/{company}/{controller}/index.mdx`
  - Example: `src/content/orca-analog-controllers/the-orca/index.mdx`

## MDX Frontmatter Schema

Each controller page uses YAML frontmatter that maps to `ControllerData` in `src/content.config.ts`.

Required/optional fields:

<!-- prettier-ignore -->
```yaml
name: The Orca                  # string; display name
maker: Orca Analog Controllers  # string; human-friendly maker
buttonType: analog              # string; "digital" or "analog"
priceUSD: 249.0                 # number; omit if unknown
currentlySold: true             # boolean
releaseYear: 2024               # number
switchType:                     # string or string[]
  - Everglide Rice Pudding Hall Effect
  - Kailh Speed Silver
weightGrams: 1000               # number; omit if unknown
dimensionsMm:                   # object; omit if unknown
  width: 331
  depth: 185
  height: 39
link: https://example.com       # optional external link
```

After the frontmatter separator `---`, write normal Markdown/MDX for the page body (e.g., Overview, Features, Pros/Cons, etc.).

## Example MDX File

```mdx
---
name: The Orca
maker: Orca Analog Controllers
buttonType: analog
priceUSD: 249.0
currentlySold: true
releaseYear: 2024
switchType:
  - Everglide Rice Pudding Hall Effect
  - Kailh Speed Silver
weightGrams: 1000
dimensionsMm:
  width: 331
  depth: 185
  height: 39
link: https://theorca.gg/product/orca-analog-controller/
---

### Overview

Write your description here. You can use standard Markdown: headings, paragraphs, lists, links, code, images, etc.

> Images must be referenced with a path like @/content/path/to/image.png

![orca](@/content/orca-analog-controllers/the-orca/orca.jpg)

### Features

- Analog stick-like buttons
- Low latency design

> Tip: Keep content factual and avoid marketing language.
```

## Content Rules of Thumb

- **Slugs** (`company`, `controller`) must match their directory names.
- **Numbers**: use plain numbers (no quotes). Prices are in USD.
- **Omit unknowns**: leave fields out instead of guessing.
- **External links**: set a single `link` to the official product page if available.
- **Images**: For now, store public images next to their respective `index.mdx` and link by relative path (e.g., `./controller.webp`).

## Local Development

- Install deps: `pnpm install` (or `npm install`)
- Start dev: `pnpm dev` (or `npm run dev`)
- Lint/format: `pnpm check`, `pnpm lint`, `pnpm format`

## How Pages Are Loaded

- Files are discovered by `glob({pattern: '**/*.{md,mdx}', base: './src/content')` in `src/content.config.ts`.
- Frontmatter is parsed and validated against the `contentSchema` zod schema in `src/content.config.ts`.
- Frontmatter is combined with a compiled MDX component (`Content`).
- Rendering happens in `src/pages/controllers/[company]/[controller].astro` inside an `<article class="prose ...">` wrapper.

## OG Image Generation

- OG images are generated by `src/pages/og/[company]/[controller].png.ts` on every build and cached when running the development server.
- They will automatically generate the first time an image is requested at `/og/{company}/{controller}.png`.

## Pull Request Checklist

- [ ] Folder and slugs follow `src/content/{company}/{controller}/index.mdx`
- [ ] Frontmatter validates against the schema above
- [ ] No broken links, typos, or placeholder text
- [ ] Markdown renders cleanly (headings, lists, links)

## Questions

Open an issue or PR with your question. Thanks for contributing!
